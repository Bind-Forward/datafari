<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<groupId>com.francelabs.datafari</groupId>
	<artifactId>datafari-parent</artifactId>
	<!-- Main POM of datafari -->
	<packaging>pom</packaging>
	<version>2.0-SNAPSHOT</version>
	<name>Datafari Enterprise Search - Parent POM</name>
	<!-- The order of modules execution is important -->
	<modules>
	<!-- Child module datafari-dependencies added to install project dependencies in Maven repo -->
		<module>datafari-dependencies</module>
		<module>datafari-core</module>
		<module>datafari-updateprocessor</module>
		<module>datafari-searchcomp-capsule</module>
		<module>datafari-realm</module>
		<module>datafari-manifoldcf-scripts</module>
	</modules>
	<prerequisites>
		<!-- Force minimum Maven version -->
		<maven>3.0.5</maven>
	</prerequisites>

	<!-- Dependencies defined in Datafari-dependencies POM -->
	<dependencies>
		<dependency>
			<groupId>com.francelabs.datafari</groupId>
			<artifactId>datafari-dependencies</artifactId>
			<version>2.0-SNAPSHOT</version>
			<type>pom</type>
		</dependency>
	</dependencies>

	<build>
		<!-- DefaultGoal is the same used to run the children POMs -->
		<defaultGoal>install</defaultGoal>

		<sourceDirectory>../src/main/java</sourceDirectory>
		<outputDirectory>../dist/WEB-INF/classes</outputDirectory>

		<pluginManagement>
			<plugins>
				<!-- Disable resources plugin -->
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-resources-plugin</artifactId>
					<version>2.7</version>
					<executions>
						<execution>
							<id>default-resources</id>
							<phase />
							<goals>
								<goal>default-resources</goal>
							</goals>
						</execution>
						<execution>
							<id>default-testResources</id>
							<phase />
							<goals>
								<goal>default-testResources</goal>
							</goals>
						</execution>
					</executions>
				</plugin>
				<!-- Disable compiler plugin -->
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-compiler-plugin</artifactId>
					<version>3.3</version>
					<executions>
						<execution>
							<id>default-compile</id>
							<phase />
							<goals>
								<goal>default-compile</goal>
							</goals>
						</execution>
						<execution>
							<id>default-testCompile</id>
							<phase />
							<goals>
								<goal>default-testCompile</goal>
							</goals>
						</execution>

					</executions>
				</plugin>
				<!-- Disable test plugin -->
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-surefire-plugin</artifactId>
					<version>2.19</version>
					<executions>
						<execution>
							<id>default-test</id>
							<phase />
							<goals>
								<goal>default-test</goal>
							</goals>
						</execution>
					</executions>
				</plugin>
				<!-- Disable package JAR plugin -->
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-jar-plugin</artifactId>
					<version>2.6</version>
					<executions>
						<execution>
							<id>default-jar</id>
							<phase />
							<goals>
								<goal>default-jar</goal>
							</goals>
						</execution>
					</executions>
				</plugin>
				<!-- Disable WAR package plugin -->
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-war-plugin</artifactId>
					<version>2.6</version>
					<executions>
						<execution>
							<id>default-war</id>
							<phase />
							<goals>
								<goal>default-war</goal>
							</goals>
						</execution>
					</executions>
				</plugin>
				<!-- Disable Install package plugin -->
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-install-plugin</artifactId>
					<version>2.5.2</version>
					<executions>
						<execution>
							<id>default-install</id>
							<phase />
							<goals>
								<goal>default-install</goal>
							</goals>
						</execution>
					</executions>
				</plugin>
			</plugins>
		</pluginManagement>
		<plugins>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-resources-plugin</artifactId>
				<!-- Don't propagate configuration to child POMs -->
				<inherited>false</inherited>
				<executions>
					<!-- This execution of the resources plugin is NOT run by the main pom.xml 
						lifecycle, it's intended to be run standalone by command line: resources:copy-resources@setup-eclipse -->
					<!-- <execution> <id>setup-eclipse</id> <goals> <goal>copy-resources</goal> 
						</goals> <configuration> <outputDirectory>.</outputDirectory> <resources> 
						<resource> <directory>./dev-tools/eclipse</directory> </resource> </resources> 
						</configuration> </execution> -->
					<!-- This execution of the resources plugin is run by the main pom.xml 
						lifecycle -->
					<execution>
						<id>copy-resources</id>
						<phase>process-resources</phase>
						<goals>
							<goal>copy-resources</goal>
						</goals>
						<configuration>
							<outputDirectory>dist</outputDirectory>
							<resources>
								<resource>
									<directory>WebContent</directory>
								</resource>
							</resources>
						</configuration>
					</execution>
				</executions>
			</plugin>
			<!-- HTTP download plugin -->
			<plugin>
				<groupId>com.googlecode.maven-download-plugin</groupId>
				<artifactId>download-maven-plugin</artifactId>
				<version>1.2.1</version>
				<!-- Don't propagate configuration to child POMs -->
				<inherited>false</inherited>
				<executions>
					<execution>
						<id>install-solr</id>
						<phase>validate</phase>
						<goals>
							<goal>wget</goal>
						</goals>
						<configuration>
							<!-- Version of Solr should be retrieved from a property file as well 
								as the SHA1 -->
							<url>http://archive.apache.org/dist/lucene/solr/5.2.1/solr-5.2.1.tgz</url>
							<sha1>0351906cdeef48cdc85b3fe75dc5c038a90bae5f</sha1>
							<unpack>true</unpack>
							<outputDirectory>temp</outputDirectory>
						</configuration>
					</execution>
					<execution>
						<id>install-cassandra</id>
						<phase>validate</phase>
						<goals>
							<goal>wget</goal>
						</goals>
						<configuration>
							<!-- Version of Cassandra should be retrieved from a property file 
								as well as the SHA1 -->
							<url>http://archive.apache.org/dist/cassandra/2.1.8/apache-cassandra-2.1.8-bin.tar.gz</url>
							<sha1>8fc0b4763487656793e9cb6016b939e0260e057e</sha1>
							<unpack>true</unpack>
							<outputDirectory>temp</outputDirectory>
						</configuration>
					</execution>
					<execution>
						<id>install-mcf</id>
						<phase>validate</phase>
						<goals>
							<goal>wget</goal>
						</goals>
						<configuration>
							<!-- Version of MCF should be retrieved from a property file as well 
								as the MD5 -->
							<url>http://archive.apache.org/dist/manifoldcf/apache-manifoldcf-2.2/apache-manifoldcf-2.2-bin.tar.gz</url>
							<md5>0cdb536d98a89e9e1847ad72ad8ea3a9</md5>
							<unpack>true</unpack>
							<outputDirectory>temp</outputDirectory>
						</configuration>
					</execution>
				</executions>
			</plugin>
			<plugin>
				<artifactId>maven-antrun-plugin</artifactId>
				<version>1.8</version>
				<!-- Don't propagate configuration to child POMs -->
				<inherited>false</inherited>
				<executions>
					<execution>
						<id>ant-tasks</id>
						<phase>validate</phase>
						<configuration>
							<target>
								<ant antfile="maven-ant-tasks.xml" />
							</target>
						</configuration>
						<goals>
							<goal>run</goal>
						</goals>
					</execution>
				</executions>
			</plugin>

		</plugins>
	</build>
	<description>
Datafari is the ideal product for those who want to search through their data, while using advanced open source technologies. Datafari combines Apache ManifoldCF and Apache Solr, to allow its users to search through many different and diverse data sources: their file shares, their cloud shares (dropbox, google driveâ€¦), their databases, but also their emails and many more.
    </description>
	<url>http://www.datafari.com/en/</url>
	<inceptionYear>2011</inceptionYear>
	<licenses>
		<license>
			<name>Apache License, Version 2.0</name>
			<url>http://www.apache.org/licenses/LICENSE-2.0.txt</url>
			<distribution>repo</distribution>
		</license>
	</licenses>
	<organization>
		<name>France Labs - Search Experts</name>
		<url>http://www.francelabs.com/en/</url>
	</organization>
	<developers>
		<developer>
			<id>culmer</id>
			<name>Cedric Ulmer</name>
			<email>cedric.ulmer@francelabs.com</email>
			<organization>France Labs</organization>
			<roles>
				<role>architect</role>
				<role>developer</role>
			</roles>
			<timezone>Europe/Paris</timezone>
		</developer>
		<developer>
			<id>otavard</id>
			<name>Olivier Tavard</name>
			<email>olivier.tavard@francelabs.com</email>
			<organization>France Labs</organization>
			<roles>
				<role>architect</role>
				<role>developer</role>
			</roles>
			<timezone>Europe/Paris</timezone>
		</developer>
		<developer>
			<id>amazoyer</id>
			<name>Aurelien Mazoyer</name>
			<email>aurelien.mazoyer@francelabs.com</email>
			<organization>France Labs</organization>
			<roles>
				<role>architect</role>
				<role>developer</role>
			</roles>
			<timezone>Europe/Paris</timezone>
		</developer>
		<developer>
			<id>jmassiera</id>
			<name>Julien Massiera</name>
			<email>julien.massiera@francelabs.com</email>
			<organization>France Labs</organization>
			<roles>
				<role>developer</role>
			</roles>
			<timezone>Europe/Paris</timezone>
		</developer>
		<developer>
			<id>gusai</id>
			<name>Giovanni Usai</name>
			<email>giovanni.usai@francelabs.com</email>
			<organization>France Labs</organization>
			<roles>
				<role>developer</role>
			</roles>
			<timezone>Europe/Paris</timezone>
		</developer>
	</developers>
	<issueManagement>
		<system>JIRA</system>
		<url>https://datafari.atlassian.net/secure/Dashboard.jspa</url>
	</issueManagement>
	<scm>
		<connection>scm:git:https://github.com/francelabs/datafari.git</connection>
		<tag>HEAD</tag>
		<url>https://github.com/francelabs/datafari</url>
	</scm>
</project>
